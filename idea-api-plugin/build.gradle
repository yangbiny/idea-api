plugins {
    id "application"
    id("org.jetbrains.intellij") version "$jetbrainsVersion"
    id "org.jetbrains.kotlin.plugin.allopen" version "$kotlinVersion"
    id 'org.jetbrains.kotlin.jvm' version "$kotlinVersion"
}

/*repositories {
    mavenCentral()
    maven {
        url = "https://www.jetbrains.com/intellij-repository/releases"
    }
}*/

intellij {
    version.set("$intellijVersion")
    type.set("IC") // Target IDE Platform
    plugins.set(["com.intellij.java"])
}

dependencies {
    implementation("com.google.inject:guice:7.0.0")
    implementation(project(":idea-api-support"))
    implementation("com.jetbrains.intellij.idea:ideaIC:$intellijVersion")
    testImplementation("org.jetbrains.kotlin:kotlin-test")
}

tasks {
    buildSearchableOptions {
        enabled = false
    }

    compileKotlin {
        kotlinOptions.jvmTarget = "17"
    }

    compileTestKotlin {
        kotlinOptions.jvmTarget = "17"
    }
}
